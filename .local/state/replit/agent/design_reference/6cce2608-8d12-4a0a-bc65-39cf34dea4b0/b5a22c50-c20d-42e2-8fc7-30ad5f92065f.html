<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupportGPT - Free 24/7 Mental Health Support</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'system-ui', 'sans-serif'],
                },
                colors: {
                    'support-primary': '#4F46E5',
                    'support-secondary': '#10B981',
                    'support-accent': '#F59E0B',
                    'support-neutral': '#F8FAFC',
                    'support-text': '#64748B',
                    'support-crisis': '#EF4444',
                    'support-online': '#22C55E'
                }
            }
        }
    };
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        .chat-container {
            height: calc(100vh - 200px);
            min-height: 400px;
        }
        
        .message-bubble {
            animation: fadeInUp 0.3s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .typing-indicator {
            display: none;
        }
        
        .typing-indicator.active {
            display: flex;
            animation: pulse 1.5s infinite;
        }
        
        .crisis-alert {
            background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
        }
        
        .support-gradient {
            background: linear-gradient(135deg, #4F46E5 0%, #6366F1 100%);
        }
    </style>
</head>
<body class="font-inter bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen">
    <!-- Crisis Alert Bar -->
    <div class="crisis-alert text-white py-3 px-4 text-center text-sm font-medium">
        <i class="fas fa-exclamation-triangle mr-2"></i>
        <span>In crisis? Call 988 (Suicide & Crisis Lifeline) or text HOME to 741741 (Crisis Text Line)</span>
        <button onclick="toggleCrisisModal()" class="ml-4 underline hover:no-underline">
            More Resources
        </button>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-100">
        <div class="max-w-4xl mx-auto px-4 py-6">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                <div class="flex items-center space-x-3 mb-4 sm:mb-0">
                    <div class="support-gradient w-12 h-12 rounded-xl flex items-center justify-center text-white">
                        <i class="fas fa-heart text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">SupportGPT</h1>
                        <p class="text-support-text text-sm">Free 24/7 Mental Health Support</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Language Indicator -->
                    <div id="languageIndicator" class="bg-support-secondary/10 text-support-secondary px-3 py-1 rounded-full text-sm font-medium flex items-center">
                        <i class="fas fa-globe mr-2"></i>
                        <span>English Detected</span>
                    </div>
                    
                    <!-- Anonymous Status -->
                    <div class="bg-support-online/10 text-support-online px-3 py-1 rounded-full text-sm font-medium flex items-center">
                        <i class="fas fa-user-secret mr-2"></i>
                        <span>Anonymous</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Chat Container -->
    <div class="max-w-4xl mx-auto px-4 py-6">
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
            <!-- Chat Messages Area -->
            <div id="chatMessages" class="chat-container overflow-y-auto p-6 space-y-4">
                <!-- Welcome Message -->
                <div class="message-bubble">
                    <div class="flex items-start space-x-3">
                        <div class="support-gradient w-10 h-10 rounded-full flex items-center justify-center text-white flex-shrink-0">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="bg-gray-50 rounded-2xl rounded-tl-md px-4 py-3 max-w-xs sm:max-w-md">
                            <p class="text-gray-800 text-sm sm:text-base">
                                Hi there! ðŸ‘‹ I'm SupportGPT, and I'm here to listen and support you 24/7. 
                                I'll automatically detect your language and respond in the same language. 
                                You're completely anonymous here - no registration needed. How are you feeling today?
                            </p>
                            <div class="text-xs text-support-text mt-2">Just now</div>
                        </div>
                    </div>
                </div>

                <!-- Sample User Message -->
                <div class="message-bubble" data-mock="true">
                    <div class="flex items-start space-x-3 justify-end">
                        <div class="bg-support-primary text-white rounded-2xl rounded-tr-md px-4 py-3 max-w-xs sm:max-w-md">
                            <p class="text-sm sm:text-base">I've been feeling really overwhelmed with my studies lately...</p>
                            <div class="text-xs text-blue-100 mt-2">2 minutes ago</div>
                        </div>
                        <div class="w-10 h-10 bg-support-accent rounded-full flex items-center justify-center text-white flex-shrink-0">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </div>

                <!-- Sample Bot Response -->
                <div class="message-bubble" data-mock="true">
                    <div class="flex items-start space-x-3">
                        <div class="support-gradient w-10 h-10 rounded-full flex items-center justify-center text-white flex-shrink-0">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="bg-gray-50 rounded-2xl rounded-tl-md px-4 py-3 max-w-xs sm:max-w-md">
                            <p class="text-gray-800 text-sm sm:text-base">
                                I hear you, and I want you to know that feeling overwhelmed with studies is really common - you're not alone in this. 
                                It sounds like you're carrying a lot right now. Can you tell me a bit more about what's been weighing on you the most? 
                                Sometimes just talking through it can help us figure out some ways to make things feel more manageable. ðŸ’™
                            </p>
                            <div class="text-xs text-support-text mt-2">1 minute ago</div>
                        </div>
                    </div>
                </div>

                <!-- Typing Indicator -->
                <div id="typingIndicator" class="typing-indicator items-start space-x-3">
                    <div class="support-gradient w-10 h-10 rounded-full flex items-center justify-center text-white flex-shrink-0">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="bg-gray-50 rounded-2xl rounded-tl-md px-4 py-3">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-support-text rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-support-text rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-support-text rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Message Input -->
            <div class="border-t border-gray-100 p-4 bg-gray-50">
                <div class="flex items-end space-x-3">
                    <div class="flex-1">
                        <textarea 
                            id="messageInput" 
                            placeholder="Share what's on your mind... I'm here to listen and support you."
                            class="w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-support-primary focus:border-transparent resize-none text-sm sm:text-base"
                            rows="1"
                            data-implementation="Auto-resize textarea and detect language on input"
                        ></textarea>
                    </div>
                    <button 
                        id="sendButton"
                        class="support-gradient text-white px-6 py-3 rounded-2xl hover:shadow-lg transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                        data-event="click:sendMessage"
                        data-implementation="Send message to AI API and handle language detection"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <!-- Quick Actions -->
                <div class="flex flex-wrap gap-2 mt-3">
                    <button class="bg-white text-support-text px-3 py-1 rounded-full text-sm border border-gray-200 hover:bg-support-primary hover:text-white transition-colors" data-mock="true">
                        I'm feeling anxious
                    </button>
                    <button class="bg-white text-support-text px-3 py-1 rounded-full text-sm border border-gray-200 hover:bg-support-primary hover:text-white transition-colors" data-mock="true">
                        I'm stressed about school
                    </button>
                    <button class="bg-white text-support-text px-3 py-1 rounded-full text-sm border border-gray-200 hover:bg-support-primary hover:text-white transition-colors" data-mock="true">
                        I need someone to talk to
                    </button>
                </div>
            </div>
        </div>

        <!-- Support Information -->
        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fas fa-shield-alt text-support-secondary"></i>
                    <h3 class="font-semibold text-gray-900">Completely Anonymous</h3>
                </div>
                <p class="text-support-text text-sm">No registration, no data storage. Your privacy is our priority.</p>
            </div>
            
            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fas fa-clock text-support-accent"></i>
                    <h3 class="font-semibold text-gray-900">24/7 Available</h3>
                </div>
                <p class="text-support-text text-sm">Get support whenever you need it, day or night.</p>
            </div>
            
            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                <div class="flex items-center space-x-3 mb-2">
                    <i class="fas fa-globe text-support-primary"></i>
                    <h3 class="font-semibold text-gray-900">Multilingual</h3>
                </div>
                <p class="text-support-text text-sm">Communicate in your preferred language automatically.</p>
            </div>
        </div>

        <!-- Important Disclaimer -->
        <div class="mt-6 bg-amber-50 border border-amber-200 rounded-xl p-4">
            <div class="flex items-start space-x-3">
                <i class="fas fa-info-circle text-support-accent mt-1"></i>
                <div>
                    <h4 class="font-semibold text-amber-800 mb-1">Important Notice</h4>
                    <p class="text-amber-700 text-sm">
                        SupportGPT provides peer support and is not a replacement for professional mental health services. 
                        If you're experiencing a mental health crisis, please contact emergency services or a crisis helpline immediately.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Crisis Resources Modal -->
    <div id="crisisModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-96 overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-900">Crisis Resources</h2>
                    <button onclick="toggleCrisisModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div class="border border-red-200 rounded-lg p-4 bg-red-50">
                        <h3 class="font-semibold text-red-800 mb-2">
                            <i class="fas fa-phone mr-2"></i>Immediate Crisis Help
                        </h3>
                        <div class="space-y-2 text-sm">
                            <p><strong>988 Suicide & Crisis Lifeline:</strong> Call or text 988</p>
                            <p><strong>Crisis Text Line:</strong> Text HOME to 741741</p>
                            <p><strong>Emergency Services:</strong> Call 911</p>
                        </div>
                    </div>
                    
                    <div class="border border-blue-200 rounded-lg p-4 bg-blue-50">
                        <h3 class="font-semibold text-blue-800 mb-2">
                            <i class="fas fa-heart mr-2"></i>Mental Health Support
                        </h3>
                        <div class="space-y-2 text-sm">
                            <p><strong>NAMI Helpline:</strong> 1-800-950-NAMI (6264)</p>
                            <p><strong>SAMHSA Helpline:</strong> 1-800-662-4357</p>
                            <p><strong>Teen Line:</strong> Call 310-855-4673 or text TEEN to 839863</p>
                        </div>
                    </div>
                    
                    <div class="border border-green-200 rounded-lg p-4 bg-green-50">
                        <h3 class="font-semibold text-green-800 mb-2">
                            <i class="fas fa-users mr-2"></i>Online Communities
                        </h3>
                        <div class="space-y-2 text-sm">
                            <p><strong>7 Cups:</strong> Free emotional support</p>
                            <p><strong>Crisis Text Line:</strong> 24/7 text support</p>
                            <p><strong>Reddit r/SuicideWatch:</strong> Peer support community</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // TODO: Implement actual AI chatbot functionality with free API integration
        // TODO: Add language detection and multilingual response capability
        // TODO: Implement crisis keyword detection and appropriate responses
        
        (function() {
            // Auto-resize textarea
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const chatMessages = document.getElementById('chatMessages');
            const typingIndicator = document.getElementById('typingIndicator');
            
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                
                // Enable/disable send button
                sendButton.disabled = this.value.trim() === '';
            });
            
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            function sendMessage() {
                const message = messageInput.value.trim();
                if (!message) return;
                
                // Add user message to chat
                addMessage(message, true);
                messageInput.value = '';
                messageInput.style.height = 'auto';
                sendButton.disabled = true;
                
                // Show typing indicator
                showTypingIndicator();
                
                // TODO: Send message to AI API for processing
                // TODO: Implement language detection
                // TODO: Handle AI response and add to chat
                
                // Simulate AI response (replace with actual API call)
                setTimeout(() => {
                    hideTypingIndicator();
                    addMessage("Thank you for sharing that with me. I can hear that you're going through something difficult right now. Your feelings are completely valid, and I want you to know that reaching out takes courage. Can you tell me more about what's been on your mind?", false);
                }, 2000);
            }
            
            function addMessage(text, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message-bubble';
                
                const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                if (isUser) {
                    messageDiv.innerHTML = `
                        <div class="flex items-start space-x-3 justify-end">
                            <div class="bg-support-primary text-white rounded-2xl rounded-tr-md px-4 py-3 max-w-xs sm:max-w-md">
                                <p class="text-sm sm:text-base">${text}</p>
                                <div class="text-xs text-blue-100 mt-2">${time}</div>
                            </div>
                            <div class="w-10 h-10 bg-support-accent rounded-full flex items-center justify-center text-white flex-shrink-0">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="flex items-start space-x-3">
                            <div class="support-gradient w-10 h-10 rounded-full flex items-center justify-center text-white flex-shrink-0">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="bg-gray-50 rounded-2xl rounded-tl-md px-4 py-3 max-w-xs sm:max-w-md">
                                <p class="text-gray-800 text-sm sm:text-base">${text}</p>
                                <div class="text-xs text-support-text mt-2">${time}</div>
                            </div>
                        </div>
                    `;
                }
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            function showTypingIndicator() {
                typingIndicator.classList.add('active');
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            function hideTypingIndicator() {
                typingIndicator.classList.remove('active');
            }
            
            // Quick action buttons
            document.querySelectorAll('[data-mock="true"]').forEach(button => {
                if (button.tagName === 'BUTTON' && button.textContent.includes('feeling') || button.textContent.includes('stressed') || button.textContent.includes('talk')) {
                    button.addEventListener('click', function() {
                        messageInput.value = this.textContent;
                        sendMessage();
                    });
                }
            });
            
            // Initialize send button state
            sendButton.disabled = true;
        })();
        
        function toggleCrisisModal() {
            const modal = document.getElementById('crisisModal');
            modal.classList.toggle('hidden');
        }
        
        // TODO: Implement language detection service integration
        // TODO: Add content filtering for safety
        // TODO: Implement crisis keyword detection with appropriate responses
        // TODO: Add session management without data persistence
    </script>
</body>
</html>